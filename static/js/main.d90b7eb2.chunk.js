(this["webpackJsonpcovid-counter"]=this["webpackJsonpcovid-counter"]||[]).push([[0],{123:function(e,a,t){e.exports=t(240)},240:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),c=t(16),o=t.n(c),l=t(18),s=t(38),i=t(8),u=t(273),d=t(274),m=t(260),v=t(113),h=t(279),E=t(259),y=t(60),b=Object(v.a)({palette:{primary:E.a,secondary:y.a},spacing:function(e){return"".concat(.25*e,"rem")}}),f=Object(h.a)(b),g=t(278),C=t(263),p=t(261),T=t(243),O=t(53),_=t(108),j=t.n(_),k=Object(m.a)({root:function(e){return{color:e.color,"& *":{fontFamily:"Noto Sans, Roboto"}}},block:{display:"block"}}),w=function(e){var a=e.value,t=e.title,r=e.color,c=void 0===r?"inherit":r,o=e.classes,l=e.className,s=k({color:c}).root;return n.a.createElement(p.a,{container:!0,direction:"row",alignItems:"center",justify:"center",spacing:0,className:j()([Object(O.a)({},s,!l),l,null===o||void 0===o?void 0:o.container])},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(T.a,{className:null===o||void 0===o?void 0:o.value,align:"center",component:"div",variant:"h2"},a.toLocaleString("en-US").replace(/,/g," "))),n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(T.a,{className:null===o||void 0===o?void 0:o.label,align:"center",component:"h2",variant:"h2"},t)))},D=t(14),S=t(262),N=function(){var e=Object(l.b)();Object(r.useEffect)((function(){e({type:"FETCH_GLOBAL_STATISTICS",request:{url:"https://api.thevirustracker.com/free-api?global=stats"},meta:{cache:120}})}),[e]);var a=Object(l.c)(Object(S.a)({type:"FETCH_GLOBAL_STATISTICS"})),t=a.data,n=a.loading,c=a.error,o=a.pristine,s=Object(r.useRef)(null);return s.current=Object(r.useMemo)((function(){if(t){var e=Object(D.a)(t.results,1)[0],a=e.total_new_deaths_today,r=e.total_new_cases_today,n=e.total_serious_cases,c=e.total_unresolved,o=e.total_recovered,l=e.total_deaths;return{activeCases:e.total_active_cases,cases:e.total_cases,deaths:l,recovered:o,seriousCases:n,unresolved:c,casesToday:r,deathsToday:a,affectedCountries:e.total_affected_countries}}return null}),[t]),{data:s.current,loading:n,error:c,pristine:o}},x="#F72C25",I="#FDCD49",P="#260986",L="#33C173",R=Object(m.a)({title:{fontWeight:700}}),A=function(){var e=R(),a=N(),t=a.data,r=a.loading,c=(a.error,!r&&!!t),o=null!==t&&void 0!==t?t:{},l=o.cases,s=o.deaths,i=o.recovered,u=o.seriousCases;return n.a.createElement(g.a,{in:c},n.a.createElement(C.a,{maxWidth:"lg"},n.a.createElement(p.a,{container:!0,spacing:10},n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(T.a,{className:e.title,align:"center",variant:"h1"},"Global Statistics:")),n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(w,{color:I,value:l||0,title:"Cases"})),n.a.createElement(p.a,{item:!0,sm:6,xs:12},n.a.createElement(w,{color:L,value:i||0,title:"Recovered"})),n.a.createElement(p.a,{item:!0,sm:6,xs:12},n.a.createElement(w,{color:P,value:u||0,title:"Serious Cases"})),n.a.createElement(p.a,{item:!0,xs:12},n.a.createElement(w,{color:x,value:s||0,title:"Deaths"})))))},F=t(264),B=t(265),q=t(266),M=t(267),H=t(268),U=t(269),W=t(270),G=t(271),J=t(272),Y=t(277);var z=function(e){var a,t=Object(l.b)();Object(r.useEffect)((function(){t({type:"FETCH_COUNTRIES_STATISTICS",request:{url:"https://api.thevirustracker.com/free-api?countryTotals=ALL"},meta:{cache:120}})}),[t]);var n=Object(l.c)(Object(S.a)({type:"FETCH_COUNTRIES_STATISTICS"})),c=n.data,o=n.loading,s=n.error,i=n.pristine,u=Object(r.useRef)(null);return u.current=Object(r.useMemo)((function(){if(c){var e=Object(D.a)(c.countryitems,1)[0],a={};return Object.values(e).forEach((function(e){var t=e.total_cases,r=e.total_active_cases,n=e.total_new_cases_today,c=e.total_new_deaths_today,o=e.total_unresolved,l=e.total_serious_cases,s=e.total_recovered,i=e.total_deaths,u=e.code,d=e.title,m=e.ourid;t>0&&(a[u]={id:m,title:d,deaths:i,cases:t,code:u,unresolved:o,seriousCases:l,recovered:s,newDeathsToday:c,newCasesToday:n,activeCases:r})})),a}return null}),[c]),e?{data:(null===(a=u.current)||void 0===a?void 0:a[e])||null,error:s,loading:o,pristine:i}:{data:u.current,error:s,loading:o,pristine:i}},K=Object(m.a)({table:{height:"100vh"},red:{backgroundColor:x},yellow:{backgroundColor:I},green:{backgroundColor:L}});function X(e){var a=e.headCellsLabels,t=e.order,r=e.orderBy,c=e.onRequestSort;return n.a.createElement(J.a,null,n.a.createElement(U.a,null,a.map((function(e){return n.a.createElement(W.a,{align:e.numeric?"right":"left",key:e.key,sortDirection:r===e.key&&t},n.a.createElement(Y.a,{active:r===e.key,direction:r===e.key?t:"asc",onClick:function(){return c(e.key)}},e.label))}))))}function $(e,a,t){return a[t]<e[t]?-1:a[t]>e[t]?1:0}var Q=function(e){var a=e.className,t=z(),c=N(),o=K(),l=[{key:"title",label:"Title",numeric:!1},{key:"cases",label:"Total Cases",numeric:!0},{key:"newCasesToday",label:"New Cases Today",numeric:!0},{key:"deaths",label:"Total Deaths",numeric:!0},{key:"newDeathsToday",label:"New Deaths Today",numeric:!0},{key:"recovered",label:"Total Recovered",numeric:!0},{key:"activeCases",label:"Active Cases",numeric:!0},{key:"seriousCases",label:"Serious Cases",numeric:!0}],i=n.a.useState("asc"),u=Object(D.a)(i,2),d=u[0],m=u[1],v=n.a.useState(l[0].key),h=Object(D.a)(v,2),E=h[0],y=h[1],b=t.loading||c.loading;return n.a.createElement(g.a,{in:!b&&!!t.data&&!!c.data},n.a.createElement(C.a,{className:a},n.a.createElement(F.a,null,n.a.createElement(B.a,null,n.a.createElement(T.a,{variant:"h4"},"Affected Countries' Statistics")),n.a.createElement(q.a,{className:o.table},n.a.createElement(M.a,{stickyHeader:!0},n.a.createElement(X,{headCellsLabels:l,order:d,orderBy:E,onRequestSort:function(e){m(E===e&&"asc"===d?"desc":"asc"),y(e)}}),n.a.createElement(H.a,null,n.a.createElement(U.a,{selected:!0}),Object(r.useMemo)((function(){var e;return function(e,a){var t=e.map((function(e,a){return{el:e,index:a}}));return t.sort((function(e,t){var r=a(e.el,t.el);return 0!==r?r:e.index-t.index})),t.map((function(e){return e.el}))}(Object.values(null!==(e=t.data)&&void 0!==e?e:{}),function(e,a){return"desc"===e?function(e,t){return $(e,t,a)}:function(e,t){return-$(e,t,a)}}(d,E)).map((function(e){return n.a.createElement(U.a,{hover:!0,key:e.id},n.a.createElement(W.a,{align:"left"},n.a.createElement(G.a,{component:s.b,to:"".concat("/country/").concat(e.code),color:"secondary"},e.title)),n.a.createElement(W.a,{align:"right"},e.cases),n.a.createElement(W.a,{align:"right",className:e.newCasesToday>0?o.yellow:void 0},e.newCasesToday),n.a.createElement(W.a,{align:"right"},e.deaths),n.a.createElement(W.a,{align:"right",className:e.newDeathsToday>0?o.red:void 0},e.newDeathsToday),n.a.createElement(W.a,{align:"right",className:e.recovered>0?o.green:void 0},e.recovered),n.a.createElement(W.a,{align:"right"},e.activeCases),n.a.createElement(W.a,{align:"right"},e.seriousCases))}))}),[d,E,t.data])))))))},V=t(276),Z=t(109),ee=function(e){var a=Object(l.b)();Object(r.useEffect)((function(){a(function(e){return{type:"FETCH_COUNTRY_TIMELINE",request:{url:"https://api.thevirustracker.com/free-api?countryTimeline=".concat(e)},meta:{cache:120}}}(e))}),[a,e]);var t=Object(l.c)(Object(S.a)({type:"FETCH_COUNTRY_TIMELINE"})),n=t.data,c=t.loading,o=t.error,s=t.pristine,i=Object(r.useRef)(null);return i.current=Object(r.useMemo)((function(){if(n){var e=Object(D.a)(n.countrytimelinedata,1)[0].info,a=e.code,t=e.title,r=Object(D.a)(n.timelineitems,1)[0],c={};return Object.entries(r).forEach((function(e){var a=Object(D.a)(e,2),t=a[0],r=a[1],n=r.total_cases,o=r.total_deaths,l=r.new_daily_cases,s=r.new_daily_deaths,i=r.total_recoveries;n&&(c[t]={deathsToday:s,cases:n,casesToday:l,deaths:o,recoveries:i})})),{timeline:c,countryInfo:{code:a,title:t}}}return null}),[n]),{data:i.current,loading:c,pristine:s,error:o}};function ae(e){return e<1e3?e:e<1e6?"".concat(e/1e3,"K"):"".concat(e/1e6,"M")}function te(e){var a=e.data,t=e.title;return n.a.createElement(n.a.Fragment,null,n.a.createElement(V.a,{marginLeft:10,marginTop:20},n.a.createElement(T.a,{variant:"h2"},t)),n.a.createElement(Z.a,{data:a,options:{tooltips:{mode:"index",intersect:"false"},scales:{xAxes:[{gridLines:{display:!1},scaleLabel:{display:!0},stacked:!0,ticks:{maxTicksLimit:10}}],yAxes:[{ticks:{min:0,maxTicksLimit:7,stepSize:2.5,callback:ae}}]}}}))}var re=function(){var e,a,t=Object(i.f)().code,c=ee(t),o=z(t),l=o.loading||c.loading,s=(null!==(e=c.data)&&void 0!==e?e:{}).timeline,u=null!==(a=o.data)&&void 0!==a?a:{},d=u.title,m=void 0===d?"":d,v=u.cases,h=void 0===v?0:v,E=u.deaths,y=void 0===E?0:E,b=u.recovered,f=void 0===b?0:b,O=Object(r.useMemo)((function(){var e={dates:[],totalCasesPerDay:[],newCasesPerDay:[],totalDeathsPerDay:[],newDeathsPerDay:[],totalRecoveriesPerDay:[]};return s&&Object.entries(s).forEach((function(a,t){var r=Object(D.a)(a,2),n=r[0],c=r[1],o=c.deaths,l=c.cases,s=c.casesToday,i=c.deathsToday,u=c.recoveries;e.dates[t]=n,e.totalCasesPerDay[t]=l,e.newCasesPerDay[t]=s,e.totalDeathsPerDay[t]=o,e.newDeathsPerDay[t]=i,e.totalRecoveriesPerDay[t]=u})),e}),[s]);return n.a.createElement(g.a,{in:!l&&!!o.data&&!!c.data},n.a.createElement(C.a,{maxWidth:"lg"},n.a.createElement(T.a,{align:"center",variant:"h2",component:"h1"},m," Covid-19 statistics"),n.a.createElement(p.a,{container:!0,justify:"center"},n.a.createElement(p.a,{xs:12,item:!0},n.a.createElement(w,{color:I,value:h,title:"Total Cases"})),n.a.createElement(p.a,{xs:12,item:!0},n.a.createElement(w,{color:x,value:y,title:"Deaths"})),n.a.createElement(p.a,{xs:12,item:!0},n.a.createElement(w,{color:L,value:f,title:"Recovered"}))),n.a.createElement(F.a,null,n.a.createElement(te,{data:{datasets:[{label:"Total Deaths",data:O.totalDeathsPerDay,backgroundColor:"".concat(x,"CC"),hoverBackgroundColor:x},{label:"Total Cases",data:O.totalCasesPerDay,backgroundColor:"".concat(I,"CC"),hoverBackgroundColor:I}],labels:O.dates},title:"Total cases to death ratio."}),n.a.createElement(te,{title:"New Cases Per Day",data:{datasets:[{label:"Daily Cases",data:O.newCasesPerDay,backgroundColor:"#000000CC",hoverBackgroundColor:I}],labels:O.dates}}),n.a.createElement(te,{title:"New Deaths Per Day",data:{datasets:[{label:"Daily Deaths",data:O.newDeathsPerDay,backgroundColor:"#000000CC",hoverBackgroundColor:x}],labels:O.dates}}))))},ne=Object(m.a)({main:{overflowX:"hidden"},countriesStatistics:{marginTop:"4rem"}});var ce=function(){var e=ne(),a=e.main,t=e.countriesStatistics;return n.a.createElement(u.a,{theme:f},n.a.createElement(d.a,null),n.a.createElement("main",{className:a},n.a.createElement(s.a,null,n.a.createElement(i.c,null,n.a.createElement(i.a,{path:"/",exact:!0},n.a.createElement(A,null),n.a.createElement(Q,{className:t})),n.a.createElement(i.a,{path:"/country/:code"},n.a.createElement(re,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=t(114),le=t(111),se=t(30),ie=t(275),ue=t(116),de=t(43),me=t.n(de),ve=function(e,a){var t=a.request.url;if("api.thevirustracker.com"===new URL(t).host){var r=e.data;if("string"===typeof r){var n=r.replace(/<.+/gi,"");return console.warn("The API is throwing weird warnings again... Spam @thevirustracker's twitter to fix it. (P.S. They will know what you're talking about)"),Object(le.a)({},e,{data:JSON.parse(n)})}}return e},he=function(){var e=Object(ie.a)({driver:Object(ue.a)(me.a),onSuccess:ve}),a=e.requestsReducer,t=e.requestsMiddleware,r=Object(se.c)({requests:a});return Object(se.d)(r,se.a.apply(void 0,Object(oe.a)(t)))}();o.a.render(n.a.createElement(l.a,{store:he},n.a.createElement(n.a.Fragment,null,n.a.createElement(ce,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.d90b7eb2.chunk.js.map